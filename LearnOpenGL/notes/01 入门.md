LearnOpenGL笔记

# 简介

OpenGL是一个图形API，需要一个编程语言来工作，在这里使用的是C++。

C++推荐学习[www.learncpp.com](http://www.learncpp.com/)上的免费教程。



有时候ERR_CONNECTION_RESET，访问网站https://learnopengl-cn.github.io/ 进不去

解决方案：cmd执行

````
> ipconfig /flushdns
````

# 入门

## OpenGL

实际上不是一个API，而是一个API的规范。

也就是OpenGL库的实现可能不同，但功能相同。实际的OpenGL库的开发者通常是显卡的生产商（更新显卡驱动可能解决一些库bug）。

OpenGL3.3[规范文档](https://www.opengl.org/registry/doc/glspec33.core.20100311.withchanges.pdf)

### 核心模式与立即渲染模式

立即渲染模式（Immediate mode，也就是固定渲染管线），从OpenGL3.2开始，规范文档开始废弃立即渲染模式。

使用OpenGL的核心模式时，OpenGL迫使我们使用现代的函数。现代函数要求使用者真正理解OpenGL和图形编程，它有一些难度，然而提供了更多的灵活性，更高的效率，更重要的是可以更深入的理解图形编程。

所有OpenGL的更高的版本都是在3.3的基础上，引入了额外的功能，并没有改动核心架构。

### 扩展

不同的opengl库支持特定的特性或渲染上的优化，通过扩展实现。最后可能成为规范的一部分。

### 状态机

OpenGL自身是一个巨大的状态机(State Machine)。

OpenGL上下文(Context)

状态设置函数(State-changing Function)

状态使用函数(State-using Function)

### 对象

OpenGL库是用C语言写的

C到其他高级语言的翻译，中间引入抽象层，对象是其一。

C风格的结构体。

>OpenGL上下文看作是一个大的结构体，通过一系列的方法来操作上下文中的信息，然后使用上下文来渲染。
>
>方法：创建对象，绑定对象，设置对象属性……将上下文设置回默认。

```c
// 创建对象
unsigned int objectId = 0;
glGenObject(1, &objectId);
// 绑定对象至上下文
glBindObject(GL_WINDOW_TARGET, objectId);
// 设置当前绑定到 GL_WINDOW_TARGET 的对象的一些选项
glSetObjectOption(GL_WINDOW_TARGET, GL_OPTION_WINDOW_WIDTH, 800);
glSetObjectOption(GL_WINDOW_TARGET, GL_OPTION_WINDOW_HEIGHT, 600);
// 将上下文对象设回默认
glBindObject(GL_WINDOW_TARGET, 0);
```

objectId记录对象的id，可再次通过id绑定回这个对象。

这样可以创建多个对象，需要哪个绑定哪个，而不用重复设置属性了。

### 附加资源

- [opengl.org](https://www.opengl.org/)：OpenGL官方网站。
- [OpenGL registry](https://www.opengl.org/registry/)：包含OpenGL各版本的规范和扩展。

